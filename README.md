# spec

>  WIP

一些通用的规范要求用以约定项目开发整体风格。本 repo 主要针对的是一些语言无关的，全局的开发风格，具体到每种语言的实践，请参考：

* [Golang](https://github.com/lawporter/go-project-spec)
* WIP

## 文档规范

### README 规范

README 文件用以介绍项目的主要内容，注意事项，README 包含至少以下内容：

```markdown
# Project Title

A brief description of what this project does and who it's for

## Features

- Light/dark mode toggle
- Live previews
- Fullscreen mode
- Cross platform

## Quick Start

How to start your project

## Documentation

[Documentation](https://linktodocumentation)
```

简单的说，一个项目的 README 必须（**MUST**）至少说明清楚你这个项目是什么，有什么用，怎么使用它，使用文档在哪以及一些额外需要注意的点。本文给出的示例是至少需要包含的内容，根据项目本身的特点可以（**MAY**）添加更多的模块，比如 Ref、FAQ，你可以（**MAY**）参考 [readme.so](https://readme.so/) 增加合适的模块。

### 项目文档规范

一切值得被留痕的的内容都应该被文档化。可以被文档化的东西林林总总，并且一些需要文档化的内容有些可以被进一步模版化，在此只能给出一些常见的应该（**SHOULD**）被文档化的内容，随着时间的推移不断细化本模块：

| 文档         | 类型     | 描述                                                         |
| ------------ | -------- | ------------------------------------------------------------ |
| 产品业务功能 | 产品文档 | 用以说明本产品具有的业务功能，大模块下应当还会作进一步细分，<br/>比如业务子模块、需求变更、用户反馈等。这部分和业务紧绑定，不做展开。 |
| 实施方案     | 开发文档 | 产品整体技术路线，包括调研过程、技术方案对比、技术选项、实施方案。 |
| 最佳实践     | 开发文档 | 最佳实践主要存放一些该项目技术方案实施过程中的相关实践，<br/>包括实施过程、实施收益等。 |
| 开发流程     | 开发文档 | 开发流程用以明确一些项目全生命周期管理的通用内容，<br/>比如项目部署、测试覆盖率、CICD 流程、测试环境等。 |
| 使用手册     | 开发文档 | 如何使用该项目，根据实际内容进一步可能划分多个文档，<br/>比如接口文档、错误码、SDK 使用、项目目录说明等。 |
| 重构备忘录   | 开发文档 | 大部分项目都有需要重构的内容，有时候重构项可能随着时间推移<br/>不断增加，备忘录帮助大家时刻回顾需要重构的项目并及时排期。 |
| 待补充       |          |                                                              |

如何管理一个组织下的文档是一个政治问题，通常来说处理方式无非三种——分布式、集中式和混合式。

* 分布式：即各个 repo 下各自维护各自的文档。这样的好处是很多东西都可以就地查找，不需要去另外一个 repo 寻找；坏处是一个 repo 下的文档不可避免的有许多重复的东西；
* 集中式：集中式是将所有文档放在一个统一的地方进行管理。这样的好处是方便组织管理，并且文档的结构可以更加清晰，项目间的查询也更加方便，方便迁移；坏处是开发者不得不同时维护多个 repo，文档与 repo 之间的对齐需要另外约定；
* 混合式：分布式加集中式的文档管理。

考虑到目前我们组织的架构性问题与项目的特点，使用一个**规范目录结构的集中性文档管理**是一个比较好的方案。

## 开发规范

### 版本规范

版本规范必须（**MUST**）使用 Github 起草的语义化版本控制规范，本文档只摘录其中最基本最重要的规范要求，完整草案见 [SemVer](https://semver.org/lang/zh-CN/)。

> 版本格式：主版本号.次版本号.修订号，版本号递增规则如下：
>
> 1. 主版本号：当你做了不兼容的 API 修改，
> 2. 次版本号：当你做了向下兼容的功能性新增，
> 3. 修订号：当你做了向下兼容的问题修正。
>
> 先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。

### Commit 规范

社区有多种 Commit Message 规范，根据往前项目使用经验与开发团队整体风格，Commit 规范基本参照 Angular 的语义化规范提交，本文档列出项目中使用 Commit Message 中 Header 的基本要素，其他内容如本文没有声明，均以 Angular 草案为准，完整草案内容见 [Angular Commit Message Guidelines](https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines)。

Header 的内容必须（**MUST**）是英文，Body 和 Footer 可以（**MAY**）是中文。

Header 包括 type（REQUIRED）、scope（OPTIONAL）和 subject（REQUIRED），type 必须（**MUST**）是以下几种类型之一：

- **feat**：新的功能；
- **fix**：对 BUG 的修复；
- **perf**：代码变更带来的性能提升；
- **refactor**：代码内容重构，并不影响性能或是并非 BUG 修复；
- **docs**：文档相关；
- **style**：不修改代码语义的代码风格上的变更（换行，空格等）；
- **test**：增加/修改测试代码；
- **chore**：杂项，比如构建流程、依赖管理或者一些工具的变更。（这一项目前 Angular 草案并没有包含，但是已经被社区广泛大量的采用，可以用来代替 **build** 和 **ci** 关键词以及其他情况）。

scope 用来说明 commit 的影响范围的，它必须（**MUST**）是名词。在项目初期，可以（**MAY**）设置一些粒度比较大的 scope，比如可以按模块或者功能来设置 scope。scope 不是必要的，如果找不到合适的，可以不添加。

subject 是 commit 内容的简短描述，使用现在时态，动词开头，首字母小写，不加句号。

### Commit 流程规范

> TODO



